assembler-project/
├─ assembler                 ← Built binary (after linking)
├─ Makefile                  ← Build rules (C90: -ansi -pedantic -Wall, includes)
│
├─ include/                  ← Public headers shared across modules
│  ├─ assembler.h            ← High-level API: assemble_file(); extern g_used_names
│  ├─ codeimg.h              ← Code/Data image container + helpers (push/relocate)
│  ├─ debug.h                ← Debug/logging macros
│  ├─ defaults.h             ← Global constants, limits, fallback bool, paths
│  ├─ encoding.h             ← Parsers: .data/.string/.mat + size estimator prototypes
│  ├─ errors.h               ← Error list/collector API
│  ├─ hash_core.h            ← Hash internals for NameSet
│  ├─ identifiers.h          ← Reserved-identifier checks + name validators
│  ├─ macro.h                ← Macro table API (used by preassembler)
│  ├─ nameset.h              ← Generic string hash-set (identifiers namespace)
│  ├─ output.h               ← (Planned) .ob/.ent/.ext writers
│  ├─ pass1.h                ← Pass 1 interface (symbols, code/data images)
│  ├─ pass2.h                ← (Planned) Pass 2 interface
│  ├─ preassembler.h         ← Stage-0 API: preassemble()
│  └─ symbols.h              ← Symbol table types/API (CODE/DATA/EXTERN/ENTRY)
│
├─ src/                      ← Actual C implementation
│  ├─ assembler.c            ← Orchestrates: preassemble → pass1 (global NameSet)
│  ├─ codeimg.c              ← Image storage, push_word, relocate data after code
│  ├─ debug.c                ← Debug helpers
│  ├─ encoding.c             ← .data/.string/.mat parsing; unified errors; size estimate
│  ├─ errors.c               ← Error aggregation + printing
│  ├─ hash_core.c            ← Hash utilities for NameSet
│  ├─ identifiers.c          ← Reserved words list + valid name checks
│  ├─ macro.c                ← Macro define/lookup storage
│  ├─ main.c                 ← CLI driver; iterates .as files; calls assemble_file()
│  ├─ nameset.c              ← String hash-set implementation
│  ├─ pass1.c                ← First pass: labels+externs, code/data placeholders, relocation
│  ├─ preassembler.c         ← Expands macros (.am), records macro names into NameSet
│  └─ symbols.c              ← Symbol table (define/lookup/relocate/entry/external)
│
├─ build/                    ← Object files + intermediate artefacts (auto-created)
│  ├─ assembler.o
│  ├─ codeimg.o
│  ├─ debug.o
│  ├─ encoding.o
│  ├─ errors.o
│  ├─ hash_core.o
│  ├─ identifiers.o
│  ├─ macro.o
│  ├─ main.o
│  ├─ nameset.o
│  ├─ pass1.o
│  ├─ preassembler.o
│  └─ symbols.o
│
└─ doc/
   └─ structure              ← (Your docs live here; expand as needed later)
